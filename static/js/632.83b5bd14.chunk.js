"use strict";(self.webpackChunkmovies=self.webpackChunkmovies||[]).push([[632],{1672:function(e,r,t){var n=t(5861),a=t(4687),o=t.n(a),c=t(3263),s="https://api.themoviedb.org/3/",i="d08efe59ac708d7aace6afed9ba7eae9",u=function(e){var r=e.mediaType,t=e.timeWindow,n=e.page;return"".concat(s,"trending/").concat(r,"/").concat(t,"?api_key=").concat(i,"&page=").concat(n)},p=function(e){var r=e.movieType,t=e.page;return"".concat(s,"movie/").concat(r,"?api_key=").concat(i,"&page=").concat(t)},d=function(e){var r=e.movieId,t=e.page;return"".concat(s,"movie/").concat(r,"/recommendations?api_key=").concat(i,"&page=").concat(t)},f=function(e){var r=e.movieId;return"".concat(s,"movie/").concat(r,"?api_key=").concat(i)},v=function(e){var r=e.movieId;return"".concat(s,"movie/").concat(r,"/videos?api_key=").concat(i)},g=function(){return"".concat(s,"genre/movie/list?api_key=").concat(i)},l={getList:function(){var e=(0,n.Z)(o().mark((function e(r){var t,n,a,s,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.mediaType,n=r.timeWindow,a=r.page,s=void 0===a?1:a,e.prev=1,e.next=4,c.Z.get(u({mediaType:t,timeWindow:n,page:s}));case 4:return i=e.sent,e.abrupt("return",{response:i});case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",{err:e.t0});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(r){return e.apply(this,arguments)}}(),getMovies:function(){var e=(0,n.Z)(o().mark((function e(r){var t,n,a,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.movieType,n=r.page,a=void 0===n?1:n,e.prev=1,e.next=4,c.Z.get(p({movieType:t,page:a}));case 4:return s=e.sent,e.abrupt("return",{response:s});case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",{err:e.t0});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(r){return e.apply(this,arguments)}}(),getRecommendationMovies:function(){var e=(0,n.Z)(o().mark((function e(r){var t,n,a,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.movieId,n=r.page,a=void 0===n?1:n,e.prev=1,e.next=4,c.Z.get(d({movieId:t,page:a}));case 4:return s=e.sent,e.abrupt("return",{response:s});case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",{err:e.t0});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(r){return e.apply(this,arguments)}}(),getTrailer:function(){var e=(0,n.Z)(o().mark((function e(r){var t,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.movieId,e.prev=1,e.next=4,c.Z.get(v({movieId:t}));case 4:return n=e.sent,e.abrupt("return",{response:n});case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",{err:e.t0});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(r){return e.apply(this,arguments)}}(),getDetailsForMovie:function(){var e=(0,n.Z)(o().mark((function e(r){var t,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.movieId,e.prev=1,e.next=4,c.Z.get(f({movieId:t}));case 4:return n=e.sent,e.abrupt("return",{response:n});case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",{err:e.t0});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(r){return e.apply(this,arguments)}}(),getGenres:function(){var e=(0,n.Z)(o().mark((function e(){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.Z.get(g());case 3:return r=e.sent,e.abrupt("return",{response:r});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{err:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}()};r.Z=l},460:function(e,r,t){t.r(r),t.d(r,{default:function(){return y}});var n=t(5861),a=t(885),o=t(4687),c=t.n(o),s=t(2791),i=t(7689),u=t(1755),p=t(2619),d=t(2180),f=t(2044),v="https://api.themoviedb.org/3/",g="d08efe59ac708d7aace6afed9ba7eae9",l=function(){var e=(0,n.Z)(c().mark((function e(r){var t,n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(v,"movie/").concat(r,"/credits?api_key=").concat(g,"&language=en-US"));case 2:if(!(t=e.sent).ok){e.next=8;break}return e.next=6,t.json();case 6:return n=e.sent,e.abrupt("return",n.cast);case 8:throw new Error("Error responsive");case 9:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),m=function(){var e=(0,n.Z)(c().mark((function e(r){var t,n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(v,"movie/").concat(r,"/reviews?api_key=").concat(g,"&language=en-US&page=1"));case 2:if(!(t=e.sent).ok){e.next=8;break}return e.next=6,t.json();case 6:return n=e.sent,e.abrupt("return",n.results);case 8:throw new Error("Error responsive");case 9:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),h=t(9920),x=t(8180),w=t(1672),k=t(184),Z={data:[],isLoading:!1,error:""},y=function(){var e=(0,s.useState)(Z),r=(0,a.Z)(e,2),t=r[0],o=r[1],v=(0,s.useState)(Z),g=(0,a.Z)(v,2),y=g[0],b=g[1],L=(0,s.useState)(Z),I=(0,a.Z)(L,2),j=I[0],_=I[1],E=(0,s.useState)(Z),T=(0,a.Z)(E,2),S=T[0],M=T[1],U=(0,s.useState)(Z),W=(0,a.Z)(U,2),C=W[0],D=W[1],F=(0,i.UO)().movieId,O=t.isLoading&&y.isLoading&&j.isLoading&&S.isLoading&&C.isLoading;return(0,s.useEffect)((function(){(0,n.Z)(c().mark((function e(){var r,t,n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o({data:[],isLoading:!0,error:""}),e.next=3,w.Z.getDetailsForMovie({movieId:F});case 3:r=e.sent,t=r.response,n=r.err,t&&o({data:t.data,isLoading:!1,error:""}),n&&o({data:[],isLoading:!1,error:n.message});case 8:case"end":return e.stop()}}),e)})))()}),[F]),(0,s.useEffect)((function(){(0,n.Z)(c().mark((function e(){var r,t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b({data:[],isLoading:!0,error:""}),e.prev=1,e.next=4,l(F);case 4:r=e.sent,t=r.filter((function(e){return!!e.profile_path&&e})),b({data:t,isLoading:!1,error:""}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),b({data:[],isLoading:!1,error:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})))()}),[F]),(0,s.useEffect)((function(){(0,n.Z)(c().mark((function e(){var r,t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _({data:[],isLoading:!0,error:""}),e.prev=1,e.next=4,m(F);case 4:r=e.sent,t=r.filter((function(e){return!!e.author_details.avatar_path})),_({data:t,isLoading:!1,error:""}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),_({data:[],isLoading:!1,error:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})))()}),[F]),(0,s.useEffect)((function(){(0,n.Z)(c().mark((function e(){var r,t,n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return M({data:[],isLoading:!0,error:""}),e.next=3,w.Z.getRecommendationMovies({movieId:F});case 3:r=e.sent,t=r.response,n=r.err,t&&M({data:t.data.results,isLoading:!1,error:""}),n&&M({data:[],isLoading:!1,error:n.message});case 8:case"end":return e.stop()}}),e)})))()}),[F]),(0,s.useEffect)((function(){(0,n.Z)(c().mark((function e(){var r,t,n,a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return D({data:[],isLoading:!0,error:""}),e.next=3,w.Z.getTrailer({movieId:F});case 3:r=e.sent,t=r.response,n=r.err,t&&(a=t.data.results.filter((function(e){return"Official Trailer"===e.name})),D({data:a,isLoading:!1,error:""})),n&&D({data:[],isLoading:!1,error:n.message});case 8:case"end":return e.stop()}}),e)})))()}),[F]),(0,k.jsxs)("div",{style:{position:"relative"},children:[(0,k.jsxs)("div",{children:[t.data&&!t.error?(0,k.jsx)(u.j,{movieInfo:t.data,trailer:C.data}):(0,k.jsx)(p.j,{title:"Sorry, we're experiencing a temporary network issue. Please try again later."}),!y.data.length||y.error||t.error?null:(0,k.jsx)(h.default,{actors:y.data}),!j.data.length||j.error||t.error?null:(0,k.jsx)(x.default,{reviews:j.data}),!S.data.length||S.error||t.error?null:(0,k.jsx)(d.b,{recommendation:S.data})]}),O&&(0,k.jsx)(f.h,{})]})}}}]);
//# sourceMappingURL=632.83b5bd14.chunk.js.map